<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘ | é€é¥ä¹¡ | Allen's World</title>
<meta name=keywords content="æ•°æ®ç»“æ„,C++,Python,äºŒå‰æ ‘,ç®—æ³•"><meta name=description content="æœ€è¿‘çœ‹ä»€ä¹ˆéƒ½åƒäºŒå‰æ ‘ï¼ˆ"><meta name=author content="Allen Wu"><link rel=canonical href=https://allenwu233.github.io/zh/posts/binary-tree/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://allenwu233.github.io/favicon/favicon/android-chrome-512x512.png><link rel=icon type=image/png sizes=16x16 href=https://allenwu233.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://allenwu233.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://allenwu233.github.io/favicon/apple-touch-icon.png><link rel=mask-icon href=https://allenwu233.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://allenwu233.github.io/zh/posts/binary-tree/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css integrity=sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js integrity=sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://allenwu233.github.io/zh/posts/binary-tree/"><meta property="og:site_name" content="é€é¥ä¹¡ | Allen's World"><meta property="og:title" content="æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘"><meta property="og:description" content="æœ€è¿‘çœ‹ä»€ä¹ˆéƒ½åƒäºŒå‰æ ‘ï¼ˆ"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-06T22:00:00+08:00"><meta property="article:modified_time" content="2022-11-25T21:33:00+08:00"><meta property="article:tag" content="æ•°æ®ç»“æ„"><meta property="article:tag" content="C++"><meta property="article:tag" content="Python"><meta property="article:tag" content="äºŒå‰æ ‘"><meta property="article:tag" content="ç®—æ³•"><meta property="og:image" content="https://allenwu233.github.io/img/binary_tree.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://allenwu233.github.io/img/binary_tree.png"><meta name=twitter:title content="æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘"><meta name=twitter:description content="æœ€è¿‘çœ‹ä»€ä¹ˆéƒ½åƒäºŒå‰æ ‘ï¼ˆ"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://allenwu233.github.io/zh/posts/"},{"@type":"ListItem","position":2,"name":"æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘","item":"https://allenwu233.github.io/zh/posts/binary-tree/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘","name":"æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘","description":"æœ€è¿‘çœ‹ä»€ä¹ˆéƒ½åƒäºŒå‰æ ‘ï¼ˆ","keywords":["æ•°æ®ç»“æ„","C++","Python","äºŒå‰æ ‘","ç®—æ³•"],"articleBody":"å¼•è¨€ - äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œ äºŒå‰æ ‘ï¼ˆBinary treeï¼‰ æ˜¯æ¯ä¸ªç»“ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³ä¸å­˜åœ¨åˆ†æ”¯åº¦å¤§äº2çš„ç»“ç‚¹ï¼‰çš„æ ‘ç»“æ„ã€‚é€šå¸¸åˆ†æ”¯è¢«ç§°ä½œâ€œå·¦å­æ ‘â€æˆ–â€œå³å­æ ‘â€ã€‚äºŒå‰æ ‘çš„åˆ†æ”¯å…·æœ‰å·¦å³æ¬¡åºï¼Œä¸èƒ½éšæ„é¢ å€’ã€‚ ä¸æ™®é€šæ ‘ä¸åŒï¼Œæ™®é€šæ ‘çš„ç»“ç‚¹ä¸ªæ•°è‡³å°‘ä¸º1ï¼Œè€ŒäºŒå‰æ ‘çš„ç»“ç‚¹ä¸ªæ•°å¯ä»¥ä¸º0ï¼›æ™®é€šæ ‘ç»“ç‚¹çš„æœ€å¤§åˆ†æ”¯åº¦æ²¡æœ‰é™åˆ¶ï¼Œè€ŒäºŒå‰æ ‘ç»“ç‚¹çš„æœ€å¤§åˆ†æ”¯åº¦ä¸º2ï¼›æ™®é€šæ ‘çš„ç»“ç‚¹æ— å·¦ã€å³æ¬¡åºä¹‹åˆ†ï¼Œè€ŒäºŒå‰æ ‘çš„ç»“ç‚¹æœ‰å·¦ã€å³æ¬¡åºä¹‹åˆ†ã€‚ â€”â€”From ä¸­æ–‡ç»´åŸºç™¾ç§‘Â·äºŒå‰æ ‘\näºŒå‰æ ‘æ˜¯éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå…¶ç‹¬ç‰¹çš„ç»“æ„ä½¿å¾—å®ƒåœ¨æœç´¢å’Œå¤„ç†æ•°æ®æ–¹é¢æœ‰ç›¸å½“ä¸é”™çš„è¡¨ç°\näºŒå‰æ ‘çš„éå† å±‚æ¬¡éå†ï¼ˆå®½åº¦ä¼˜å…ˆéå†ï¼‰ é¡¾åæ€ä¹‰ï¼Œå³æŒ‰ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºéå†ç»“ç‚¹ ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œéå†çš„é¡ºåºä¸º1ï½15 è¿™ç§æ–¹æ³•å« å®½åº¦ä¼˜å…ˆéå†ï¼ˆBreadth-First Search, BFSï¼‰\né€’å½’éå†ï¼ˆæ·±åº¦ä¼˜å…ˆéå†ï¼‰ åšä¸»è®¤ä¸ºäºŒå‰æ ‘çš„é€’å½’éå†æ˜¯æœ€ä¸ºç²¾å½©çš„éƒ¨åˆ†ã€‚ç†è§£å…¶ä¸‰ç§é€’å½’éå†æ–¹å¼ï¼Œèƒ½ä¸€çª¥äºŒå‰æ ‘çš„ç»“æ„ä¹‹ç¾\nå¯¹äºä¸€æ£µäºŒå‰æ ‘ T ï¼Œå¯ä»¥é€’å½’å®šä¹‰å®ƒçš„å…ˆåºéå†ã€ä¸­åºéå†å’Œååºéå†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nPreOrder(T) = Tçš„æ ¹ç»“ç‚¹ + PreOrder(Tçš„å·¦å­æ ‘) + PreOrder(Tçš„å³å­æ ‘) InOrder(T) = InOrder(Tçš„å·¦å­æ ‘) + Tçš„æ ¹ç»“ç‚¹ + InOrder(Tçš„å³ç»“ç‚¹) PostOrder(T) = PostOrder(Tçš„å·¦å­æ ‘) + PostOrder(Tçš„å³å­æ ‘) + Tçš„æ ¹ç»“ç‚¹ è¿™ä¸‰ç§éå†éƒ½å±äºé€’å½’éå†ï¼Œæˆ–è€…è¯´ æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDepth-First Search, DFSï¼‰ ï¼Œå› ä¸ºå®ƒæ€»æ˜¯ä¼˜å…ˆå¾€æ·±å¤„è®¿é—® â€”â€”From åˆ˜æ±ä½³ã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ è¿˜æ˜¯ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œæ¥è®²ä¸€ä¸‹å¦‚ä½•é€’å½’éå†ï¼š è¦éå†æ•´æ£µäºŒå‰æ ‘ï¼Œé¦–å…ˆæŠŠ1,2,3çœ‹ä½œä¸€æ£µå°äºŒå‰æ ‘æ¥éå†ï¼Œå…¶ä¸­1ä¸ºæ ¹ï¼Œ2,3ä¸ºç»“ç‚¹ã€‚éå†ç»“ç‚¹2æˆ–3æ—¶ï¼Œå†åˆ†åˆ«æŠŠ2,4,5æˆ–3,6,7çœ‹ä½œå°äºŒå‰æ ‘æ¥éå†ï¼Œä¾æ¬¡ç±»æ¨ã€‚å…·ä½“éå†é¡ºåºç”±éå†çš„æ–¹å¼è€Œå®š\næ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿåœ¨çœ‹ä¸‹é¢çš„ç­”æ¡ˆå‰ï¼Œå…ˆè¯•ç€å†™ä¸€ä¸‹è¿™ä¸‰ç§éå†æ–¹å¼çš„é¡ºåºå§\næ³¨ï¼šâ€œæ ¹â€â€”â€”æ ¹ç»“ç‚¹ï¼Œâ€œå·¦â€â€”â€”å·¦å­æ ‘ï¼Œâ€œå³â€â€”â€”å³å­æ ‘ è¿˜æ˜¯ä¸Šå›¾çš„ä¾‹å­ï¼š\nå…ˆåºéå† é¡ºåºï¼šæ ¹--\u003eå·¦--\u003eå³ 1 2 4 8 9 5 10 11 3 6 12 13 7 14 15\nä¸­åºéå† é¡ºåºï¼šå·¦--\u003eæ ¹--\u003eå³ 8 4 9 2 10 5 11 1 12 6 13 3 14 7 15\nååºéå† é¡ºåºï¼šå·¦--\u003eå³--\u003eæ ¹ 8 9 4 10 11 5 2 12 13 6 14 15 7 3 1\nå®ä¾‹ï¼šæ¨å¯¼å…ˆåºéå† å·²çŸ¥äºŒå‰æ ‘çš„ä¸­åºéå†å’Œåç»­éå†ï¼Œå¦‚ä½•æ¨å‡ºè¿™æ£µäºŒå‰æ ‘ï¼Œä»¥å†™å‡ºå®ƒçš„å…ˆåºéå†ï¼Ÿ\nç”¨Pythoné£æ ¼ä¼ªä»£ç æ¥è¡¨ç¤º,[]ä»£è¡¨åˆ—è¡¨ï¼ˆæœ‰åºï¼‰ï¼Œ{}ä»£è¡¨é›†åˆï¼ˆæ— åºï¼‰\nInOrder = [7, 8, 11, 3, 5, 16, 12, 18] PostOrder = [8, 3, 11, 7, 16, 18, 12, 5] ç”±ååºéå†çš„ç‰¹ç‚¹å¯çŸ¥ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦5å°±æ˜¯æ ¹ï¼Œåœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°5ï¼ŒæŠŠ{7, 8, 11, 3}çœ‹ä½œå·¦å­æ ‘ï¼Œ{16, 12, 18}çœ‹ä½œå³å­æ ‘ï¼Œæ„å»ºä¸€æ£µäºŒå‰æ ‘ï¼š\n5 / \\ {7, 8, 11, 3} {16, 12, 18} æ¥ç€å†æ¥çœ‹ååºéå†ï¼Œåˆ†åˆ«åœ¨[8, 3, 11, 7] , [16, 18, 12]ä¸­æ‰¾å‡ºæ ¹ï¼ŒåŒç†åˆ†åˆ«æ„å»ºå°äºŒå‰æ ‘ï¼š\n5 / \\ 7 12 \\ / \\ {8, 11, 3} 16 18 æœ€åä¸€æ­¥ï¼š\n5 / \\ 7 12 \\ / \\ 11 16 18 /\\ 8 3 äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°å®ƒçš„å…ˆåºéå†ï¼š\nPreOrder = [5, 7, 11, 8, 3, 12, 16, 18] å‡ é“ä¾‹é¢˜ æ¨å¯¼å…ˆåºéå† å³ä¸Šé¢ä¾‹å­çš„ä»£ç å®ç° ç±»ä¼¼çš„é¢˜ç›®ï¼šå¤©ä¾å‡ºå»ç©ï¼Œä»¥åŠå‚è€ƒç­”æ¡ˆ\npre_order.py\npre_order, in_order, post_order = [], '', '' def read_list(): global pre_order, in_order, post_order in_order = input() post_order = input() pre_order = [] in_order = list(map(int, in_order.split())) post_order = list(map(int, post_order.split())) def build_pre(in_order, post_order): \"\"\"é€’å½’æ„å»ºäºŒå‰æ ‘çš„å…ˆåºéå†\"\"\" global pre_order # ç›´è§‚åœ°çœ‹åˆ°é€’å½’çš„æ­¥éª¤ print(\"in_order = \", in_order) print(\"post_order = \", post_order) print(\"pre_order = \", pre_order, \"\\n\") root = post_order[-1] pre_order.append(root) # æ‰€è°“å…ˆåºéå†ï¼Œåªéœ€åœ¨æ„å»ºå­æ ‘æ—¶è®°å½•ä¸‹æ ¹èŠ‚ç‚¹å³å¯ root_in_order = in_order.index(root) in_left = in_order[:root_in_order] in_right = in_order[root_in_order+1 : len(in_order)] post_left = post_order[:len(in_left)] post_right = post_order[len(in_left) : -1] if len(post_left): build_pre(in_left, post_left) if len(post_right): build_pre(in_right, post_right) while 1: try: read_list() except: break build_pre(in_order, post_order) print(\"PreOrder: \", end='') for i in pre_order: print(i, end=' ') print(\"\\n\") è¾“å‡ºç¤ºä¾‹ï¼š\n7 8 11 3 5 16 12 18 # ä¸­åºéå† 8 3 11 7 16 18 12 5 # ååºéå† in_order = [7, 8, 11, 3, 5, 16, 12, 18] post_order = [8, 3, 11, 7, 16, 18, 12, 5] pre_order = [] # è¯»å…¥æ•°æ® in_order = [7, 8, 11, 3] post_order = [8, 3, 11, 7] pre_order = [5] # é€’å½’ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ æ ¹èŠ‚ç‚¹5 in_order = [8, 11, 3] post_order = [8, 3, 11] pre_order = [5, 7] # é€’å½’ç¬¬äºŒæ­¥ï¼Œæ·»åŠ æ ¹èŠ‚ç‚¹7 in_order = [8] post_order = [8] pre_order = [5, 7, 11] in_order = [3] post_order = [3] pre_order = [5, 7, 11, 8] in_order = [16, 12, 18] post_order = [16, 18, 12] pre_order = [5, 7, 11, 8, 3] in_order = [16] post_order = [16] pre_order = [5, 7, 11, 8, 3, 12] in_order = [18] post_order = [18] pre_order = [5, 7, 11, 8, 3, 12, 16] PreOrder: 5 7 11 8 3 12 16 18 æ ‘çš„å±‚æ¬¡éå†ï¼ˆTrees on the level, UVa 122ï¼‰ é¢˜ç›®ï¼š\nvjudge PDF åˆ†æï¼šé‡‡ç”¨åŠ¨æ€ç»“æ„å»ºæ ‘ã€‚ä»£ç å‡ºè‡ªç´«ä¹¦ï¼š\ntrees_on_the_level.cpp\n#include #include #include #include #include using namespace std; const int maxn = 256 + 10; // èŠ‚ç‚¹ç±»å‹ struct Node { bool have_value; int v; // èŠ‚ç‚¹å€¼ Node *left, *right; Node() : have_value(false), left(NULL), right(NULL){} // æ„é€ å‡½æ•° }; Node *root; // äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ Node *newnode() { return new Node(); } bool failed; void addnode(int v, char *s) { int n = strlen(s); Node *u = root; // ä»æ ¹èŠ‚ç‚¹å¾€ä¸‹èµ° for (int i = 0; i \u003c n; i++) { if (s[i] == 'L') { if (u-\u003eleft == NULL) u-\u003eleft = newnode(); // èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œå»ºç«‹æ–°èŠ‚ç‚¹ u = u-\u003eleft; // å¾€å³èµ° } else if (s[i] == 'R') { if (u-\u003eright == NULL) u-\u003eright = newnode(); u = u-\u003eright; } } if (u-\u003ehave_value) failed = true; u-\u003ev = v; u-\u003ehave_value = true; // åˆ«å¿˜äº†åšæ ‡è®° } void remove_tree(Node *u) { if (u == NULL) return; // æå‰åˆ¤æ–­æ¯”è¾ƒç¨³å¦¥ remove_tree(u-\u003eleft); // é€’å½’é‡Šæ”¾å·¦å­æ ‘ç©ºé—´ remove_tree(u-\u003eright); // é€’å½’é‡Šæ”¾å³å­æ ‘ç©ºé—´ delete u; // è°ƒç”¨uçš„ææ„å‡½æ•°å¹¶é‡Šæ”¾uèŠ‚ç‚¹æœ¬èº«çš„å†…å­˜ } char s[maxn]; bool read_input() { failed = false; remove_tree(root); // é‡Šæ”¾ä¸Šä¸€æ£µäºŒå‰æ ‘çš„å†…å­˜ root = newnode(); for (;;) { if (scanf(\"%s\", s) != 1) return false; if (!strcmp(s, \"()\")) break; int v; sscanf(\u0026s[1], \"%d\", \u0026v); addnode(v, strchr(s, ',') + 1); } return true; } bool bfs(vector\u003cint\u003e \u0026ans) // å®½åº¦ä¼˜å…ˆéå†(Breadth-First Search, BFS) { queue\u003cNode*\u003e q; ans.clear(); q.push(root); // åˆå§‹æ—¶åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ while (!q.empty()) { Node *u = q.front(); q.pop(); if(!u-\u003ehave_value) return false; // æœ‰èŠ‚ç‚¹æ²¡æœ‰è¢«èµ‹å€¼è¿‡ï¼Œè¡¨æ˜è¾“å…¥æœ‰è¯¯ ans.push_back(u-\u003ev); // å¢åŠ åˆ°è¾“å‡ºåºåˆ—å°¾éƒ¨ if (u-\u003eleft != NULL) q.push(u-\u003eleft); // æŠŠå·¦å­èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰æ”¾è¿›é˜Ÿåˆ— if (u-\u003eright != NULL) q.push(u-\u003eright); // æŠŠå³å­èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰æ”¾è¿›é˜Ÿåˆ— } return true; // è¾“å…¥æ­£ç¡® } int main() { vector\u003cint\u003e ans; while(read_input()) { if(!bfs(ans)) failed = 1; if(failed) printf(\"not complete\\n\"); else { for(int i = 0; i \u003c ans.size(); i++) { if(i != 0) printf(\" \"); printf(\"%d\", ans[i]); } printf(\"\\n\"); } } return 0; } å°ç»“ï¼šç”¨ç»“æ„ä½“ + æŒ‡é’ˆå®ç°äºŒå‰æ ‘ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç”¨æ•°ç»„ + ä¸‹æ ‡æ¥å®ç°ï¼Œä½†ä»éœ€å…·ä½“æƒ…å†µå…·ä½“åˆ†æ\näºŒå‰æ ‘çš„é€’å½’éå†ï¼ˆTrees, UVa548) é¢˜ç›®ï¼š\nvjudge PDF åˆ†æï¼šå³å·²çŸ¥äºŒå‰æ ‘çš„ä¸­åºéå†å’Œååºéå†ï¼Œæ¨å‡ºå…ˆåºéå†ã€‚è¿˜æ˜¯ç´«ä¹¦ï¼š\ntrees.cpp\n#include #include #include #include using namespace std; const int maxv = 10000 + 10; int in_order[maxv], post_order[maxv], lch[maxv], rch[maxv]; int n; // å› ä¸ºå„ä¸ªç»“ç‚¹çš„æƒå€¼å„ä¸ç›¸åŒä¸”éƒ½æ˜¯æ­£æ•´æ•°ï¼Œç›´æ¥ç”¨æƒå€¼ä½œä¸ºç»“ç‚¹ç¼–å· bool read_list(int *a) { string line; if (!getline(cin, line)) return false; stringstream ss(line); n = 0; int x; while (ss \u003e\u003e x) a[n++] = x; return n \u003e 0; } // æŠŠin_order[L1..R1]å’Œpost_order[L2..R2]å»ºæˆä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›æ ‘æ ¹ int build(int L1, int R1, int L2, int R2) { if (L1 \u003e R1) return 0; // ç©ºæ ‘ int root = post_order[R2]; int p = L1; while (in_order[p] != root) p++; int cnt = p - L1; // å·¦å­æ ‘çš„ç»“ç‚¹ä¸ªæ•° lch[root] = build(L1, p-1, L2, L2+cnt-1); rch[root] = build(p+1, R1, L2+cnt, R2-1); return root; } int best, best_sum; // ç›®å‰ä¸ºæ­¢çš„æœ€ä¼˜è§£å’Œå¯¹åº”çš„æƒå’Œ void dfs(int u, int sum) // Deep First Search { sum += u; if (!lch[u] \u0026\u0026 !rch[u]) // å¶å­ { if (sum \u003c best_sum || (sum == best_sum \u0026\u0026 u \u003c best)) { { best = u; best_sum = sum; } } if (lch[u]) dfs(lch[u], sum); if (rch[u]) dfs(rch[u], sum); } } int main() { while (read_list(in_order)) { read_list(post_order); build(0, n-1, 0, n-1); best_sum = 1000000000; dfs(post_order[n-1], 0); cout \u003c\u003c best \u003c\u003c \"\\n\"; } return 0; } å°ç»“ï¼šéš¾ç‚¹åœ¨äºç†è§£åˆ©ç”¨æ•°ç»„lchå’Œrchæ¥å‚¨å­˜èŠ‚ç‚¹çš„å·¦å³å­æ ‘ä»¥åŠå»ºæ ‘çš„è¿‡ç¨‹ã€‚ å»ºè®®è‡ªå·±ç”»ä¸€ä¸‹ç¤ºæ„å›¾å¸®åŠ©ç†è§£\nå¤©å¹³ï¼ˆNot so Mobile, UVa 839ï¼‰ é¢˜ç›®ï¼š PDF åˆ†æï¼šé€’å½’å®šä¹‰äºŒå‰æ ‘ã€‚è¿˜æ˜¯ç´«ä¹¦ï¼Œä»£ç ç›¸å½“ç²¾ç®€ã€å·§å¦™ï¼Œå€¼å¾—ä¸€å­¦ï¼š\nnot_so_mobile.cpp\n#include using namespace std; // è¾“å…¥ä¸€ä¸ªå­å¤©å¹³ï¼Œè¿”å›å­å¤©å¹³æ˜¯å¦å¹³è¡¡ï¼Œå‚æ•°Wä¿®æ”¹ä¸ºå­å¤©å¹³çš„æ€»é‡é‡ bool solve(int \u0026W) { int W1, D1, W2, D2; bool b1 = true, b2 = true; cin \u003e\u003e W1 \u003e\u003e D1 \u003e\u003e W2 \u003e\u003e D2; if (!W1) b1 = solve(W1); if (!W2) b2 = solve(W2); W = W1 + W2; return b1 \u0026\u0026 b2 \u0026\u0026 (W1 * D1 == W2 * D2); // b1:å·¦ b2:å³ } int main() { int T, W; cin \u003e\u003e T; while (T--) { if (solve(W)) cout \u003c\u003c \"YES\\n\"; else cout \u003c\u003c \"NO\\n\"; if (T) cout \u003c\u003c \"\\n\"; } return 0; } not_so_mobile.py\ndef solve(W): b1, b2 = True, True W1, D1, W2, D2 = map(int, input().split()) if W1 == 0: b1 = solve(W1) if W2 == 0: b2 = solve(W2) W = W1 + W2 return b1 and b2 and (W1*D1 == W2*D2) W = 0 T = int(input()) while T \u003e 0: T -= 1 print(\"YES\") if solve(W) else print(\"No\") if T: print(\"\\n\") ä¼¼ä¹ç¿»è¯‘æˆ Python åå¯è¯»æ€§æ›´å¼ºï¼ˆ\nPythonç±»å®ç°äºŒå‰æ ‘ é¢å‘å¯¹è±¡çœŸçš„å¾ˆæœ‰æ„æ€ï¼Œä»æ— åˆ°æœ‰æ“å‡ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ç±» ï¼Œå…¶å…´å¥‹æ„Ÿä¸äºšäºåœ¨mcä¸­é€ å‡ºä¸€å°ç”Ÿç”µæœºå™¨ï¼ˆ\ntree.py\nclass Node(object): \"\"\"èŠ‚ç‚¹ç±»\"\"\" def __init__(self, data=None, left_child=None, right_child=None): self.data = data self.left_child = left_child self.right_child = right_child class Tree(object): def __init__(self): self.root = Node() def rec_pre_order(self, node=None): \"\"\"é€’å½’å®ç°å‰åºéå†\"\"\" if node: print(node.data, end=\" \") self.rec_pre_order(node.left_child) self.rec_pre_order(node.right_child) def pre_order(self): \"\"\"éé€’å½’å®ç°å‰åºéå†\"\"\" if self.root: ls = [self.root] while ls: node = ls.pop() print(node.data, end=\" \") if node.right_child: ls.append(node.right_child) if node.left_child: ls.append(node.left_child) def pre_order2(self): \"\"\"éé€’å½’å®ç°å‰åºéå†\"\"\" stack = [] node = self.root while node or stack: while node: print(node.data, end=\" \") stack.append(node) node = node.left_child if stack: node = stack.pop() node = node.right_child def rec_in_order(self, node): \"\"\"é€’å½’å®ç°ä¸­åºéå†\"\"\" if node: self.rec_in_order(node.left_child) print(node.data, end=\" \") self.rec_in_order(node.right_child) def in_order(self): \"\"\"éé€’å½’å®ç°ä¸­åºéå†\"\"\" ls = [] node = self.root while node or len(ls): while node: ls.append(node) node = node.left_child if len(ls): node = ls.pop() print(node.data, end=\" \") node = node.right_child def in_order2(self): \"\"\"éé€’å½’å®ç°ä¸­åºéå†\"\"\" stack = [] node = self.root while node: while node: if node.right_child: stack.append(node.right_child) stack.append(node) node = node.left_child node = stack.pop() while stack and (not node.right_child): print(node.data, end=\" \") node = stack.pop() print(node.data, end=\" \") if stack: node = stack.pop() else: node = None def rec_post_order(self, node): \"\"\"é€’å½’å®ç°ååºéå†\"\"\" if node: self.rec_post_order(node.left_child) self.rec_post_order(node.right_child) print(node.data, end=\" \") def post_order(self, node): \"\"\"éé€’å½’å®ç°ååºéå†\"\"\" q = node ls = [] while node: while node.left_child: ls.append(node) node = node.left_child while node and (node.right_child is None or node.right_child == q): print(node.data, end=\" \") q = node if not ls: return node = ls.pop() ls.append(node) node = node.right_child def get_depth(self): \"\"\"è®¡ç®—æ ‘çš„æ·±åº¦ï¼Œé€’å½’æ ‘çš„å·¦å³èŠ‚ç‚¹,å–å€¼å¤§çš„æ·±åº¦\"\"\" def _depth(node): if not node: return 0 else: left_depth = _depth(node.left_child) right_depth = _depth(node.right_child) if left_depth \u003e right_depth: return left_depth + 1 else: return right_depth + 1 return _depth(self.root) def get_leaves(self, node): \"\"\"é€’å½’è¾“å‡ºæ‰€æœ‰å¶å­èŠ‚ç‚¹\"\"\" if node: if not node.left_child and not node.right_child: print(node.data, end=\" \") else: self.get_leaves(node.left_child) self.get_leaves(node.right_child) if __name__ == '__main__': tree = Tree() tree.root = Node('A') tree.root.left_child = Node('B') tree.root.right_child = Node('C') tree.root.left_child.left_child = Node('D') tree.root.left_child.right_child = Node('E') tree.root.left_child.right_child.right_child = Node('F') tree.root.left_child.left_child.right_child = Node('G') print(\"\"\" A | ------------- | | B C | ------------- | | D E | | ------- ------- | | | | (None) G (None) F \"\"\") print(\"#å…ˆåºéå†\") print(\"é€’å½’ï¼š\") tree.rec_pre_order(tree.root) print(\"\\néé€’å½’1ï¼š\") tree.pre_order() print(\"\\néé€’å½’2ï¼š\") tree.pre_order2() print(\"\\n\\n#ä¸­åºéå†\") print(\"é€’å½’ï¼š\") tree.rec_in_order(tree.root) print(\"\\néé€’å½’1ï¼š\") tree.in_order() print(\"\\néé€’å½’2ï¼š\") tree.in_order2() print(\"\\n\\n#ååºéå†\") print(\"é€’å½’ï¼š\") tree.rec_post_order(tree.root) print(\"\\néé€’å½’ï¼š\") tree.post_order(tree.root) print(\"\\n\\näºŒå‰æ ‘çš„æ·±åº¦ä¸ºï¼š\", tree.get_depth()) print(\"\\nå¶å­èŠ‚ç‚¹ï¼š\", end=\"\") tree.get_leaves(tree.root) äºŒå‰æŸ¥æ‰¾æ ‘ ï¼ˆå…ˆæŒ–ä¸ªå‘ï¼Œä»¥åå›æ¥æ›´æ–°ï¼‰\nå‚è€ƒæ–‡çŒ® ä¸­æ–‡ç»´åŸºç™¾ç§‘Â·äºŒå‰æ ‘ åˆ˜æ±ä½³ã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ï¼ˆç¬¬2ç‰ˆï¼‰ ","wordCount":"1496","inLanguage":"zh","image":"https://allenwu233.github.io/img/binary_tree.png","datePublished":"2022-11-06T22:00:00+08:00","dateModified":"2022-11-25T21:33:00+08:00","author":{"@type":"Person","name":"Allen Wu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://allenwu233.github.io/zh/posts/binary-tree/"},"publisher":{"@type":"Organization","name":"é€é¥ä¹¡ | Allen's World","logo":{"@type":"ImageObject","url":"https://allenwu233.github.io/favicon/favicon/android-chrome-512x512.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://allenwu233.github.io/zh/ accesskey=h title="é€é¥ä¹¡ (Alt + H)"><img src=https://allenwu233.github.io/img/avatar.png alt aria-label=logo height=35>é€é¥ä¹¡</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://allenwu233.github.io/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://allenwu233.github.io/zh/about/ title=ğŸ“‹å…³äº><span>ğŸ“‹å…³äº</span></a></li><li><a href=https://allenwu233.github.io/zh/links/ title=ğŸ”—å‹é“¾><span>ğŸ”—å‹é“¾</span></a></li><li><a href=https://allenwu233.github.io/zh/categories/ title=ğŸ“”ç±»åˆ«><span>ğŸ“”ç±»åˆ«</span></a></li><li><a href=https://allenwu233.github.io/zh/archives/ title=ğŸ“¦å½’æ¡£><span>ğŸ“¦å½’æ¡£</span></a></li><li><a href=https://allenwu233.github.io/zh/tags/ title=ğŸ·ï¸æ ‡ç­¾><span>ğŸ·ï¸æ ‡ç­¾</span></a></li><li><a href=https://allenwu233.github.io/zh/search/ title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://allenwu233.github.io/zh/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://allenwu233.github.io/zh/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">æ•°æ®ç»“æ„ä¹‹ç¾-äºŒå‰æ ‘</h1><div class=post-description>æœ€è¿‘çœ‹ä»€ä¹ˆéƒ½åƒäºŒå‰æ ‘ï¼ˆ</div><div class=post-meta><span title='2022-11-06 22:00:00 +0800 +0800'>2022/11/06</span>&nbsp;Â·&nbsp;Allen Wu</div></header><figure class=entry-cover><img loading=eager src=https://allenwu233.github.io/img/binary_tree.png alt></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#å¼•è¨€---äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ>å¼•è¨€ - äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ</a></li><li><a href=#äºŒå‰æ ‘çš„éå†>äºŒå‰æ ‘çš„éå†</a><ul><li><a href=#å±‚æ¬¡éå†å®½åº¦ä¼˜å…ˆéå†>å±‚æ¬¡éå†ï¼ˆå®½åº¦ä¼˜å…ˆéå†ï¼‰</a></li><li><a href=#é€’å½’éå†æ·±åº¦ä¼˜å…ˆéå†>é€’å½’éå†ï¼ˆæ·±åº¦ä¼˜å…ˆéå†ï¼‰</a></li><li><a href=#å‡ é“ä¾‹é¢˜>å‡ é“ä¾‹é¢˜</a></li></ul></li><li><a href=#pythonç±»å®ç°äºŒå‰æ ‘>Pythonç±»å®ç°äºŒå‰æ ‘</a></li><li><a href=#äºŒå‰æŸ¥æ‰¾æ ‘>äºŒå‰æŸ¥æ‰¾æ ‘</a></li><li><a href=#å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</a></li></ul></nav></div></details></div><div class=post-content><h2 id=å¼•è¨€---äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ>å¼•è¨€ - äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ<a hidden class=anchor aria-hidden=true href=#å¼•è¨€---äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ>#</a></h2><blockquote><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œ <strong>äºŒå‰æ ‘ï¼ˆBinary treeï¼‰</strong> æ˜¯æ¯ä¸ªç»“ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³ä¸å­˜åœ¨åˆ†æ”¯åº¦å¤§äº2çš„ç»“ç‚¹ï¼‰çš„æ ‘ç»“æ„ã€‚é€šå¸¸åˆ†æ”¯è¢«ç§°ä½œâ€œå·¦å­æ ‘â€æˆ–â€œå³å­æ ‘â€ã€‚äºŒå‰æ ‘çš„åˆ†æ”¯å…·æœ‰å·¦å³æ¬¡åºï¼Œä¸èƒ½éšæ„é¢ å€’ã€‚
ä¸æ™®é€šæ ‘ä¸åŒï¼Œæ™®é€šæ ‘çš„ç»“ç‚¹ä¸ªæ•°è‡³å°‘ä¸º1ï¼Œè€ŒäºŒå‰æ ‘çš„ç»“ç‚¹ä¸ªæ•°å¯ä»¥ä¸º0ï¼›æ™®é€šæ ‘ç»“ç‚¹çš„æœ€å¤§åˆ†æ”¯åº¦æ²¡æœ‰é™åˆ¶ï¼Œè€ŒäºŒå‰æ ‘ç»“ç‚¹çš„æœ€å¤§åˆ†æ”¯åº¦ä¸º2ï¼›æ™®é€šæ ‘çš„ç»“ç‚¹æ— å·¦ã€å³æ¬¡åºä¹‹åˆ†ï¼Œè€ŒäºŒå‰æ ‘çš„ç»“ç‚¹æœ‰å·¦ã€å³æ¬¡åºä¹‹åˆ†ã€‚
â€”â€”From <a href=https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91>ä¸­æ–‡ç»´åŸºç™¾ç§‘Â·äºŒå‰æ ‘</a></p></blockquote><p>äºŒå‰æ ‘æ˜¯éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå…¶ç‹¬ç‰¹çš„ç»“æ„ä½¿å¾—å®ƒåœ¨æœç´¢å’Œå¤„ç†æ•°æ®æ–¹é¢æœ‰ç›¸å½“ä¸é”™çš„è¡¨ç°</p><h2 id=äºŒå‰æ ‘çš„éå†>äºŒå‰æ ‘çš„éå†<a hidden class=anchor aria-hidden=true href=#äºŒå‰æ ‘çš„éå†>#</a></h2><h3 id=å±‚æ¬¡éå†å®½åº¦ä¼˜å…ˆéå†>å±‚æ¬¡éå†ï¼ˆå®½åº¦ä¼˜å…ˆéå†ï¼‰<a hidden class=anchor aria-hidden=true href=#å±‚æ¬¡éå†å®½åº¦ä¼˜å…ˆéå†>#</a></h3><p>é¡¾åæ€ä¹‰ï¼Œå³æŒ‰ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºéå†ç»“ç‚¹
ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œéå†çš„é¡ºåºä¸º<code>1ï½15</code>
è¿™ç§æ–¹æ³•å« <strong>å®½åº¦ä¼˜å…ˆéå†ï¼ˆBreadth-First Search, BFSï¼‰</strong></p><h3 id=é€’å½’éå†æ·±åº¦ä¼˜å…ˆéå†>é€’å½’éå†ï¼ˆæ·±åº¦ä¼˜å…ˆéå†ï¼‰<a hidden class=anchor aria-hidden=true href=#é€’å½’éå†æ·±åº¦ä¼˜å…ˆéå†>#</a></h3><p>åšä¸»è®¤ä¸ºäºŒå‰æ ‘çš„é€’å½’éå†æ˜¯<em>æœ€ä¸ºç²¾å½©</em>çš„éƒ¨åˆ†ã€‚ç†è§£å…¶ä¸‰ç§é€’å½’éå†æ–¹å¼ï¼Œèƒ½ä¸€çª¥äºŒå‰æ ‘çš„ç»“æ„ä¹‹ç¾</p><blockquote><p>å¯¹äºä¸€æ£µäºŒå‰æ ‘ T ï¼Œå¯ä»¥é€’å½’å®šä¹‰å®ƒçš„å…ˆåºéå†ã€ä¸­åºéå†å’Œååºéå†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><ul><li>PreOrder(T) = Tçš„æ ¹ç»“ç‚¹ + PreOrder(Tçš„å·¦å­æ ‘) + PreOrder(Tçš„å³å­æ ‘)</li><li>InOrder(T) = InOrder(Tçš„å·¦å­æ ‘) + Tçš„æ ¹ç»“ç‚¹ + InOrder(Tçš„å³ç»“ç‚¹)</li><li>PostOrder(T) = PostOrder(Tçš„å·¦å­æ ‘) + PostOrder(Tçš„å³å­æ ‘) + Tçš„æ ¹ç»“ç‚¹
è¿™ä¸‰ç§éå†éƒ½å±äºé€’å½’éå†ï¼Œæˆ–è€…è¯´ <strong>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDepth-First Search, DFSï¼‰</strong> ï¼Œå› ä¸ºå®ƒæ€»æ˜¯ä¼˜å…ˆå¾€æ·±å¤„è®¿é—®
â€”â€”From åˆ˜æ±ä½³ã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹</li></ul><p>è¿˜æ˜¯ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œæ¥è®²ä¸€ä¸‹å¦‚ä½•é€’å½’éå†ï¼š
è¦éå†æ•´æ£µäºŒå‰æ ‘ï¼Œé¦–å…ˆæŠŠ<code>1,2,3</code>çœ‹ä½œä¸€æ£µå°äºŒå‰æ ‘æ¥éå†ï¼Œå…¶ä¸­<code>1</code>ä¸ºæ ¹ï¼Œ<code>2,3</code>ä¸ºç»“ç‚¹ã€‚éå†ç»“ç‚¹<code>2</code>æˆ–<code>3</code>æ—¶ï¼Œå†åˆ†åˆ«æŠŠ<code>2,4,5</code>æˆ–<code>3,6,7</code>çœ‹ä½œå°äºŒå‰æ ‘æ¥éå†ï¼Œä¾æ¬¡ç±»æ¨ã€‚å…·ä½“éå†é¡ºåºç”±éå†çš„æ–¹å¼è€Œå®š</p><p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿåœ¨çœ‹ä¸‹é¢çš„ç­”æ¡ˆå‰ï¼Œå…ˆè¯•ç€å†™ä¸€ä¸‹è¿™ä¸‰ç§éå†æ–¹å¼çš„é¡ºåºå§</p><blockquote><p>æ³¨ï¼šâ€œæ ¹â€â€”â€”æ ¹ç»“ç‚¹ï¼Œâ€œå·¦â€â€”â€”å·¦å­æ ‘ï¼Œâ€œå³â€â€”â€”å³å­æ ‘
è¿˜æ˜¯ä¸Šå›¾çš„ä¾‹å­ï¼š</p></blockquote><h4 id=å…ˆåºéå†>å…ˆåºéå†<a hidden class=anchor aria-hidden=true href=#å…ˆåºéå†>#</a></h4><p>é¡ºåºï¼š<code>æ ¹-->å·¦-->å³</code>
<code>1 2 4 8 9 5 10 11 3 6 12 13 7 14 15</code></p><h4 id=ä¸­åºéå†>ä¸­åºéå†<a hidden class=anchor aria-hidden=true href=#ä¸­åºéå†>#</a></h4><p>é¡ºåºï¼š<code>å·¦-->æ ¹-->å³</code>
<code>8 4 9 2 10 5 11 1 12 6 13 3 14 7 15</code></p><h4 id=ååºéå†>ååºéå†<a hidden class=anchor aria-hidden=true href=#ååºéå†>#</a></h4><p>é¡ºåºï¼š<code>å·¦-->å³-->æ ¹</code>
<code>8 9 4 10 11 5 2 12 13 6 14 15 7 3 1</code></p><h4 id=å®ä¾‹æ¨å¯¼å…ˆåºéå†>å®ä¾‹ï¼šæ¨å¯¼å…ˆåºéå†<a hidden class=anchor aria-hidden=true href=#å®ä¾‹æ¨å¯¼å…ˆåºéå†>#</a></h4><blockquote><p>å·²çŸ¥äºŒå‰æ ‘çš„ä¸­åºéå†å’Œåç»­éå†ï¼Œå¦‚ä½•æ¨å‡ºè¿™æ£µäºŒå‰æ ‘ï¼Œä»¥å†™å‡ºå®ƒçš„å…ˆåºéå†ï¼Ÿ</p></blockquote><p>ç”¨Pythoné£æ ¼ä¼ªä»£ç æ¥è¡¨ç¤º,<code>[]</code>ä»£è¡¨åˆ—è¡¨ï¼ˆæœ‰åºï¼‰ï¼Œ<code>{}</code>ä»£è¡¨é›†åˆï¼ˆæ— åºï¼‰</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=n>InOrder</span>   <span class=o>=</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>18</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>PostOrder</span> <span class=o>=</span> <span class=p>[</span><span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
</span></span></code></pre></div><p>ç”±ååºéå†çš„ç‰¹ç‚¹å¯çŸ¥ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦<code>5</code>å°±æ˜¯æ ¹ï¼Œåœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°<code>5</code>ï¼ŒæŠŠ<code>{7, 8, 11, 3}</code>çœ‹ä½œå·¦å­æ ‘ï¼Œ<code>{16, 12, 18}</code>çœ‹ä½œå³å­æ ‘ï¼Œæ„å»ºä¸€æ£µäºŒå‰æ ‘ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>              5
</span></span><span class=line><span class=cl>             / \
</span></span><span class=line><span class=cl>{7, 8, 11, 3}   {16, 12, 18}
</span></span></code></pre></div><p>æ¥ç€å†æ¥çœ‹ååºéå†ï¼Œåˆ†åˆ«åœ¨<code>[8, 3, 11, 7]</code> , <code>[16, 18, 12]</code>ä¸­æ‰¾å‡ºæ ¹ï¼ŒåŒç†åˆ†åˆ«æ„å»ºå°äºŒå‰æ ‘ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>              5
</span></span><span class=line><span class=cl>             / \
</span></span><span class=line><span class=cl>            7   12
</span></span><span class=line><span class=cl>            \   / \
</span></span><span class=line><span class=cl>    {8, 11, 3} 16 18
</span></span></code></pre></div><p>æœ€åä¸€æ­¥ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>              5
</span></span><span class=line><span class=cl>             / \
</span></span><span class=line><span class=cl>            7   12
</span></span><span class=line><span class=cl>            \   / \
</span></span><span class=line><span class=cl>            11 16 18
</span></span><span class=line><span class=cl>            /\
</span></span><span class=line><span class=cl>           8  3
</span></span></code></pre></div><p>äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°å®ƒçš„å…ˆåºéå†ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=n>PreOrder</span> <span class=o>=</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>18</span><span class=p>]</span>
</span></span></code></pre></div><h3 id=å‡ é“ä¾‹é¢˜>å‡ é“ä¾‹é¢˜<a hidden class=anchor aria-hidden=true href=#å‡ é“ä¾‹é¢˜>#</a></h3><h4 id=æ¨å¯¼å…ˆåºéå†>æ¨å¯¼å…ˆåºéå†<a hidden class=anchor aria-hidden=true href=#æ¨å¯¼å…ˆåºéå†>#</a></h4><p>å³ä¸Šé¢ä¾‹å­çš„ä»£ç å®ç°
ç±»ä¼¼çš„é¢˜ç›®ï¼š<a href=https://ac.nowcoder.com/acm/problem/244280>å¤©ä¾å‡ºå»ç©</a>ï¼Œä»¥åŠ<a href="https://ac.nowcoder.com/acm/contest/view-submission?submissionId=55005430&amp;returnHomeType=1&amp;uid=807489743">å‚è€ƒç­”æ¡ˆ</a></p><blockquote><p>pre_order.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=n>pre_order</span><span class=p>,</span> <span class=n>in_order</span><span class=p>,</span> <span class=n>post_order</span> <span class=o>=</span> <span class=p>[],</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>read_list</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>pre_order</span><span class=p>,</span> <span class=n>in_order</span><span class=p>,</span> <span class=n>post_order</span>
</span></span><span class=line><span class=cl>    <span class=n>in_order</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>post_order</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>pre_order</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=n>in_order</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=n>in_order</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>    <span class=n>post_order</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=n>post_order</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>build_pre</span><span class=p>(</span><span class=n>in_order</span><span class=p>,</span> <span class=n>post_order</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;é€’å½’æ„å»ºäºŒå‰æ ‘çš„å…ˆåºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>pre_order</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># ç›´è§‚åœ°çœ‹åˆ°é€’å½’çš„æ­¥éª¤</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;in_order   = &#34;</span><span class=p>,</span> <span class=n>in_order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;post_order = &#34;</span><span class=p>,</span> <span class=n>post_order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;pre_order  = &#34;</span><span class=p>,</span> <span class=n>pre_order</span><span class=p>,</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>root</span> <span class=o>=</span> <span class=n>post_order</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>pre_order</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>  <span class=c1># æ‰€è°“å…ˆåºéå†ï¼Œåªéœ€åœ¨æ„å»ºå­æ ‘æ—¶è®°å½•ä¸‹æ ¹èŠ‚ç‚¹å³å¯</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>root_in_order</span> <span class=o>=</span> <span class=n>in_order</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>in_left</span> <span class=o>=</span> <span class=n>in_order</span><span class=p>[:</span><span class=n>root_in_order</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>in_right</span> <span class=o>=</span> <span class=n>in_order</span><span class=p>[</span><span class=n>root_in_order</span><span class=o>+</span><span class=mi>1</span> <span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>in_order</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=n>post_left</span> <span class=o>=</span> <span class=n>post_order</span><span class=p>[:</span><span class=nb>len</span><span class=p>(</span><span class=n>in_left</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=n>post_right</span> <span class=o>=</span> <span class=n>post_order</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=n>in_left</span><span class=p>)</span> <span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>post_left</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>build_pre</span><span class=p>(</span><span class=n>in_left</span><span class=p>,</span> <span class=n>post_left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>post_right</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>build_pre</span><span class=p>(</span><span class=n>in_right</span><span class=p>,</span> <span class=n>post_right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>read_list</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span>
</span></span><span class=line><span class=cl>    <span class=n>build_pre</span><span class=p>(</span><span class=n>in_order</span><span class=p>,</span> <span class=n>post_order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;PreOrder: &#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>pre_order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>è¾“å‡ºç¤ºä¾‹ï¼š</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=mi>7</span> <span class=mi>8</span> <span class=mi>11</span> <span class=mi>3</span> <span class=mi>5</span> <span class=mi>16</span> <span class=mi>12</span> <span class=mi>18</span>  <span class=c1># ä¸­åºéå†</span>
</span></span><span class=line><span class=cl><span class=mi>8</span> <span class=mi>3</span> <span class=mi>11</span> <span class=mi>7</span> <span class=mi>16</span> <span class=mi>18</span> <span class=mi>12</span> <span class=mi>5</span>  <span class=c1># ååºéå†</span>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>18</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[]</span>  <span class=c1># è¯»å…¥æ•°æ®</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>7</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>]</span>  <span class=c1># é€’å½’ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ æ ¹èŠ‚ç‚¹5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>8</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>11</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>]</span>  <span class=c1># é€’å½’ç¬¬äºŒæ­¥ï¼Œæ·»åŠ æ ¹èŠ‚ç‚¹7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>8</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>8</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>11</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>18</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>16</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=mi>12</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>16</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>16</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>12</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>in_order</span>   <span class=o>=</span>  <span class=p>[</span><span class=mi>18</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>post_order</span> <span class=o>=</span>  <span class=p>[</span><span class=mi>18</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>pre_order</span>  <span class=o>=</span>  <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>16</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>PreOrder</span><span class=p>:</span> <span class=mi>5</span> <span class=mi>7</span> <span class=mi>11</span> <span class=mi>8</span> <span class=mi>3</span> <span class=mi>12</span> <span class=mi>16</span> <span class=mi>18</span>
</span></span></code></pre></div><h4 id=æ ‘çš„å±‚æ¬¡éå†trees-on-the-level-uva-122>æ ‘çš„å±‚æ¬¡éå†ï¼ˆTrees on the level, UVa 122ï¼‰<a hidden class=anchor aria-hidden=true href=#æ ‘çš„å±‚æ¬¡éå†trees-on-the-level-uva-122>#</a></h4><p>é¢˜ç›®ï¼š</p><ul><li><a href=https://vjudge.net/problem/UVA-122>vjudge</a></li><li><a href=https://github.com/AllenWu233/algorithm_study/blob/main/chapter_6/uva122.pdf>PDF</a></li></ul><p>åˆ†æï¼šé‡‡ç”¨åŠ¨æ€ç»“æ„å»ºæ ‘ã€‚ä»£ç å‡ºè‡ªç´«ä¹¦ï¼š</p><blockquote><p>trees_on_the_level.cpp</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include&lt;cstdio&gt;
</span></span></span><span class=line><span class=cl><span class=cp>#include&lt;cstdlib&gt;
</span></span></span><span class=line><span class=cl><span class=cp>#include&lt;cstring&gt;
</span></span></span><span class=line><span class=cl><span class=cp>#include&lt;vector&gt;
</span></span></span><span class=line><span class=cl><span class=cp>#include&lt;queue&gt;
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>maxn</span> <span class=o>=</span> <span class=mi>256</span> <span class=o>+</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// èŠ‚ç‚¹ç±»å‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>struct</span> <span class=nc>Node</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=n>have_value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>v</span><span class=p>;</span>  <span class=c1>// èŠ‚ç‚¹å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Node</span> <span class=o>*</span><span class=n>left</span><span class=p>,</span> <span class=o>*</span><span class=n>right</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span><span class=p>()</span> <span class=o>:</span> <span class=n>have_value</span><span class=p>(</span><span class=nb>false</span><span class=p>),</span> <span class=n>left</span><span class=p>(</span><span class=nb>NULL</span><span class=p>),</span> <span class=n>right</span><span class=p>(</span><span class=nb>NULL</span><span class=p>){}</span>  <span class=c1>// æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Node</span> <span class=o>*</span><span class=n>root</span><span class=p>;</span>  <span class=c1>// äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>Node</span> <span class=o>*</span><span class=nf>newnode</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=k>new</span> <span class=n>Node</span><span class=p>();</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>failed</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>addnode</span><span class=p>(</span><span class=kt>int</span> <span class=n>v</span><span class=p>,</span> <span class=kt>char</span> <span class=o>*</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>strlen</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span> <span class=o>*</span><span class=n>u</span> <span class=o>=</span> <span class=n>root</span><span class=p>;</span>  <span class=c1>// ä»æ ¹èŠ‚ç‚¹å¾€ä¸‹èµ°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;L&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>left</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=n>u</span><span class=o>-&gt;</span><span class=n>left</span> <span class=o>=</span> <span class=n>newnode</span><span class=p>();</span>  <span class=c1>// èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œå»ºç«‹æ–°èŠ‚ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>                               <span class=c1>// å¾€å³èµ°
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;R&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>right</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=n>u</span><span class=o>-&gt;</span><span class=n>right</span> <span class=o>=</span> <span class=n>newnode</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=n>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>have_value</span><span class=p>)</span> <span class=n>failed</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>u</span><span class=o>-&gt;</span><span class=n>v</span> <span class=o>=</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>u</span><span class=o>-&gt;</span><span class=n>have_value</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>  <span class=c1>// åˆ«å¿˜äº†åšæ ‡è®°
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>remove_tree</span><span class=p>(</span><span class=n>Node</span> <span class=o>*</span><span class=n>u</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>u</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>  <span class=c1>// æå‰åˆ¤æ–­æ¯”è¾ƒç¨³å¦¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>remove_tree</span><span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>   <span class=c1>// é€’å½’é‡Šæ”¾å·¦å­æ ‘ç©ºé—´
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>remove_tree</span><span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>  <span class=c1>// é€’å½’é‡Šæ”¾å³å­æ ‘ç©ºé—´
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>delete</span> <span class=n>u</span><span class=p>;</span>  <span class=c1>// è°ƒç”¨uçš„ææ„å‡½æ•°å¹¶é‡Šæ”¾uèŠ‚ç‚¹æœ¬èº«çš„å†…å­˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>char</span> <span class=n>s</span><span class=p>[</span><span class=n>maxn</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>read_input</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>failed</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>remove_tree</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>  <span class=c1>// é‡Šæ”¾ä¸Šä¸€æ£µäºŒå‰æ ‘çš„å†…å­˜
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>root</span> <span class=o>=</span> <span class=n>newnode</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(;;)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>scanf</span><span class=p>(</span><span class=s>&#34;%s&#34;</span><span class=p>,</span> <span class=n>s</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>strcmp</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=s>&#34;()&#34;</span><span class=p>))</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>sscanf</span><span class=p>(</span><span class=o>&amp;</span><span class=n>s</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>addnode</span><span class=p>(</span><span class=n>v</span><span class=p>,</span> <span class=n>strchr</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=sc>&#39;,&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>bfs</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>ans</span><span class=p>)</span>  <span class=c1>// å®½åº¦ä¼˜å…ˆéå†(Breadth-First Search, BFS)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>queue</span><span class=o>&lt;</span><span class=n>Node</span><span class=o>*&gt;</span> <span class=n>q</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>ans</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>  <span class=c1>// åˆå§‹æ—¶åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Node</span> <span class=o>*</span><span class=n>u</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>front</span><span class=p>();</span> <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>have_value</span><span class=p>)</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>  <span class=c1>// æœ‰èŠ‚ç‚¹æ²¡æœ‰è¢«èµ‹å€¼è¿‡ï¼Œè¡¨æ˜è¾“å…¥æœ‰è¯¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>ans</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>v</span><span class=p>);</span>  <span class=c1>// å¢åŠ åˆ°è¾“å‡ºåºåˆ—å°¾éƒ¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>left</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span> <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>  <span class=c1>// æŠŠå·¦å­èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰æ”¾è¿›é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>right</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span> <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>u</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>  <span class=c1>// æŠŠå³å­èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰æ”¾è¿›é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>  <span class=c1>// è¾“å…¥æ­£ç¡®
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>ans</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>read_input</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>bfs</span><span class=p>(</span><span class=n>ans</span><span class=p>))</span> <span class=n>failed</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>failed</span><span class=p>)</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34;not complete</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>ans</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>i</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34; &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=n>ans</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=n>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>å°ç»“ï¼šç”¨<code>ç»“æ„ä½“ + æŒ‡é’ˆ</code>å®ç°äºŒå‰æ ‘ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç”¨<code>æ•°ç»„ + ä¸‹æ ‡</code>æ¥å®ç°ï¼Œä½†ä»éœ€å…·ä½“æƒ…å†µå…·ä½“åˆ†æ</p><h4 id=äºŒå‰æ ‘çš„é€’å½’éå†trees-uva548>äºŒå‰æ ‘çš„é€’å½’éå†ï¼ˆTrees, UVa548)<a hidden class=anchor aria-hidden=true href=#äºŒå‰æ ‘çš„é€’å½’éå†trees-uva548>#</a></h4><p>é¢˜ç›®ï¼š</p><ul><li><a href=https://vjudge.net/problem/UVA-548>vjudge</a></li><li><a href=https://github.com/AllenWu233/algorithm_study/blob/main/chapter_6/uva548.pdf>PDF</a></li></ul><p>åˆ†æï¼šå³å·²çŸ¥äºŒå‰æ ‘çš„ä¸­åºéå†å’Œååºéå†ï¼Œæ¨å‡ºå…ˆåºéå†ã€‚è¿˜æ˜¯ç´«ä¹¦ï¼š</p><blockquote><p>trees.cpp</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;sstream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;algorithm&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>maxv</span> <span class=o>=</span> <span class=mi>10000</span> <span class=o>+</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>in_order</span><span class=p>[</span><span class=n>maxv</span><span class=p>],</span> <span class=n>post_order</span><span class=p>[</span><span class=n>maxv</span><span class=p>],</span> <span class=n>lch</span><span class=p>[</span><span class=n>maxv</span><span class=p>],</span> <span class=n>rch</span><span class=p>[</span><span class=n>maxv</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å› ä¸ºå„ä¸ªç»“ç‚¹çš„æƒå€¼å„ä¸ç›¸åŒä¸”éƒ½æ˜¯æ­£æ•´æ•°ï¼Œç›´æ¥ç”¨æƒå€¼ä½œä¸ºç»“ç‚¹ç¼–å·
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=nf>read_list</span><span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>line</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>getline</span><span class=p>(</span><span class=n>cin</span><span class=p>,</span> <span class=n>line</span><span class=p>))</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>stringstream</span> <span class=n>ss</span><span class=p>(</span><span class=n>line</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>ss</span> <span class=o>&gt;&gt;</span> <span class=n>x</span><span class=p>)</span> <span class=n>a</span><span class=p>[</span><span class=n>n</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>n</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æŠŠin_order[L1..R1]å’Œpost_order[L2..R2]å»ºæˆä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›æ ‘æ ¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>build</span><span class=p>(</span><span class=kt>int</span> <span class=n>L1</span><span class=p>,</span> <span class=kt>int</span> <span class=n>R1</span><span class=p>,</span> <span class=kt>int</span> <span class=n>L2</span><span class=p>,</span> <span class=kt>int</span> <span class=n>R2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>L1</span> <span class=o>&gt;</span> <span class=n>R1</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>  <span class=c1>// ç©ºæ ‘
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>root</span> <span class=o>=</span> <span class=n>post_order</span><span class=p>[</span><span class=n>R2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>p</span> <span class=o>=</span> <span class=n>L1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>in_order</span><span class=p>[</span><span class=n>p</span><span class=p>]</span> <span class=o>!=</span> <span class=n>root</span><span class=p>)</span> <span class=n>p</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>cnt</span> <span class=o>=</span> <span class=n>p</span> <span class=o>-</span> <span class=n>L1</span><span class=p>;</span>  <span class=c1>// å·¦å­æ ‘çš„ç»“ç‚¹ä¸ªæ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>lch</span><span class=p>[</span><span class=n>root</span><span class=p>]</span> <span class=o>=</span> <span class=n>build</span><span class=p>(</span><span class=n>L1</span><span class=p>,</span> <span class=n>p</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>L2</span><span class=p>,</span> <span class=n>L2</span><span class=o>+</span><span class=n>cnt</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>rch</span><span class=p>[</span><span class=n>root</span><span class=p>]</span> <span class=o>=</span> <span class=n>build</span><span class=p>(</span><span class=n>p</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=n>R1</span><span class=p>,</span> <span class=n>L2</span><span class=o>+</span><span class=n>cnt</span><span class=p>,</span> <span class=n>R2</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>root</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>best</span><span class=p>,</span> <span class=n>best_sum</span><span class=p>;</span>  <span class=c1>// ç›®å‰ä¸ºæ­¢çš„æœ€ä¼˜è§£å’Œå¯¹åº”çš„æƒå’Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>dfs</span><span class=p>(</span><span class=kt>int</span> <span class=n>u</span><span class=p>,</span> <span class=kt>int</span> <span class=n>sum</span><span class=p>)</span>  <span class=c1>// Deep First Search
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>sum</span> <span class=o>+=</span> <span class=n>u</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>lch</span><span class=p>[</span><span class=n>u</span><span class=p>]</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>rch</span><span class=p>[</span><span class=n>u</span><span class=p>])</span>  <span class=c1>// å¶å­
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>sum</span> <span class=o>&lt;</span> <span class=n>best_sum</span> <span class=o>||</span> <span class=p>(</span><span class=n>sum</span> <span class=o>==</span> <span class=n>best_sum</span> <span class=o>&amp;&amp;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>best</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=n>best</span> <span class=o>=</span> <span class=n>u</span><span class=p>;</span> <span class=n>best_sum</span> <span class=o>=</span> <span class=n>sum</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>lch</span><span class=p>[</span><span class=n>u</span><span class=p>])</span> <span class=n>dfs</span><span class=p>(</span><span class=n>lch</span><span class=p>[</span><span class=n>u</span><span class=p>],</span> <span class=n>sum</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>rch</span><span class=p>[</span><span class=n>u</span><span class=p>])</span> <span class=n>dfs</span><span class=p>(</span><span class=n>rch</span><span class=p>[</span><span class=n>u</span><span class=p>],</span> <span class=n>sum</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>read_list</span><span class=p>(</span><span class=n>in_order</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>read_list</span><span class=p>(</span><span class=n>post_order</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>build</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>best_sum</span> <span class=o>=</span> <span class=mi>1000000000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=n>post_order</span><span class=p>[</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>best</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>å°ç»“ï¼šéš¾ç‚¹åœ¨äºç†è§£åˆ©ç”¨æ•°ç»„<code>lch</code>å’Œ<code>rch</code>æ¥å‚¨å­˜èŠ‚ç‚¹çš„å·¦å³å­æ ‘ä»¥åŠå»ºæ ‘çš„è¿‡ç¨‹ã€‚
å»ºè®®è‡ªå·±ç”»ä¸€ä¸‹ç¤ºæ„å›¾å¸®åŠ©ç†è§£</p><h4 id=å¤©å¹³not-so-mobile-uva-839>å¤©å¹³ï¼ˆNot so Mobile, UVa 839ï¼‰<a hidden class=anchor aria-hidden=true href=#å¤©å¹³not-so-mobile-uva-839>#</a></h4><p>é¢˜ç›®ï¼š <a href=https://github.com/AllenWu233/algorithm_study/blob/main/chapter_6/uva839.pdf>PDF</a>
åˆ†æï¼šé€’å½’å®šä¹‰äºŒå‰æ ‘ã€‚è¿˜æ˜¯ç´«ä¹¦ï¼Œä»£ç ç›¸å½“ç²¾ç®€ã€å·§å¦™ï¼Œå€¼å¾—ä¸€å­¦ï¼š</p><blockquote><p>not_so_mobile.cpp</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¾“å…¥ä¸€ä¸ªå­å¤©å¹³ï¼Œè¿”å›å­å¤©å¹³æ˜¯å¦å¹³è¡¡ï¼Œå‚æ•°Wä¿®æ”¹ä¸ºå­å¤©å¹³çš„æ€»é‡é‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=nf>solve</span><span class=p>(</span><span class=kt>int</span> <span class=o>&amp;</span><span class=n>W</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>W1</span><span class=p>,</span> <span class=n>D1</span><span class=p>,</span> <span class=n>W2</span><span class=p>,</span> <span class=n>D2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=n>b1</span> <span class=o>=</span> <span class=nb>true</span><span class=p>,</span> <span class=n>b2</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>W1</span> <span class=o>&gt;&gt;</span> <span class=n>D1</span> <span class=o>&gt;&gt;</span> <span class=n>W2</span> <span class=o>&gt;&gt;</span> <span class=n>D2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>W1</span><span class=p>)</span> <span class=n>b1</span> <span class=o>=</span> <span class=n>solve</span><span class=p>(</span><span class=n>W1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>W2</span><span class=p>)</span> <span class=n>b2</span> <span class=o>=</span> <span class=n>solve</span><span class=p>(</span><span class=n>W2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>W</span> <span class=o>=</span> <span class=n>W1</span> <span class=o>+</span> <span class=n>W2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>b1</span> <span class=o>&amp;&amp;</span> <span class=n>b2</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>W1</span> <span class=o>*</span> <span class=n>D1</span> <span class=o>==</span> <span class=n>W2</span> <span class=o>*</span> <span class=n>D2</span><span class=p>);</span>  <span class=c1>// b1:å·¦ b2:å³
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>T</span><span class=p>,</span> <span class=n>W</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>T</span><span class=o>--</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>solve</span><span class=p>(</span><span class=n>W</span><span class=p>))</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;YES</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span> <span class=k>else</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;NO</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>T</span><span class=p>)</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><blockquote><p>not_so_mobile.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>def</span> <span class=nf>solve</span><span class=p>(</span><span class=n>W</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>b1</span><span class=p>,</span> <span class=n>b2</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    <span class=n>W1</span><span class=p>,</span> <span class=n>D1</span><span class=p>,</span> <span class=n>W2</span><span class=p>,</span> <span class=n>D2</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>W1</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>b1</span> <span class=o>=</span> <span class=n>solve</span><span class=p>(</span><span class=n>W1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>W2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>b2</span> <span class=o>=</span> <span class=n>solve</span><span class=p>(</span><span class=n>W2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>W</span> <span class=o>=</span> <span class=n>W1</span> <span class=o>+</span> <span class=n>W2</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>b1</span> <span class=ow>and</span> <span class=n>b2</span> <span class=ow>and</span> <span class=p>(</span><span class=n>W1</span><span class=o>*</span><span class=n>D1</span> <span class=o>==</span> <span class=n>W2</span><span class=o>*</span><span class=n>D2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>W</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>T</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>T</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>T</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;YES&#34;</span><span class=p>)</span> <span class=k>if</span> <span class=n>solve</span><span class=p>(</span><span class=n>W</span><span class=p>)</span> <span class=k>else</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>T</span><span class=p>:</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p><del>ä¼¼ä¹ç¿»è¯‘æˆ Python åå¯è¯»æ€§æ›´å¼ºï¼ˆ</del></p><h2 id=pythonç±»å®ç°äºŒå‰æ ‘>Pythonç±»å®ç°äºŒå‰æ ‘<a hidden class=anchor aria-hidden=true href=#pythonç±»å®ç°äºŒå‰æ ‘>#</a></h2><p>é¢å‘å¯¹è±¡çœŸçš„å¾ˆæœ‰æ„æ€ï¼Œä»æ— åˆ°æœ‰æ“å‡ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ç±» <del>ï¼Œå…¶å…´å¥‹æ„Ÿä¸äºšäºåœ¨mcä¸­é€ å‡ºä¸€å°ç”Ÿç”µæœºå™¨ï¼ˆ</del></p><blockquote><p>tree.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Node</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;èŠ‚ç‚¹ç±»&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>left_child</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>right_child</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>left_child</span> <span class=o>=</span> <span class=n>left_child</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>right_child</span> <span class=o>=</span> <span class=n>right_child</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Tree</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>root</span> <span class=o>=</span> <span class=n>Node</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>rec_pre_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;é€’å½’å®ç°å‰åºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rec_pre_order</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rec_pre_order</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pre_order</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;éé€’å½’å®ç°å‰åºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>root</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ls</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>root</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>ls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span> <span class=o>=</span> <span class=n>ls</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pre_order2</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;éé€’å½’å®ç°å‰åºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>stack</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>root</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>node</span> <span class=ow>or</span> <span class=n>stack</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>stack</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>rec_in_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;é€’å½’å®ç°ä¸­åºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rec_in_order</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rec_in_order</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>in_order</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;éé€’å½’å®ç°ä¸­åºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>ls</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>root</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>node</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=n>ls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>ls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>ls</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>in_order2</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;éé€’å½’å®ç°ä¸­åºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>stack</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>root</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>stack</span> <span class=ow>and</span> <span class=p>(</span><span class=ow>not</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>stack</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>rec_post_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;é€’å½’å®ç°ååºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rec_post_order</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rec_post_order</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>post_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;éé€’å½’å®ç°ååºéå†&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>q</span> <span class=o>=</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>        <span class=n>ls</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>node</span> <span class=ow>and</span> <span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span> <span class=o>==</span> <span class=n>q</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>q</span> <span class=o>=</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=n>ls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>ls</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>ls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_depth</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;è®¡ç®—æ ‘çš„æ·±åº¦ï¼Œé€’å½’æ ‘çš„å·¦å³èŠ‚ç‚¹,å–å€¼å¤§çš„æ·±åº¦&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>_depth</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>left_depth</span> <span class=o>=</span> <span class=n>_depth</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>right_depth</span> <span class=o>=</span> <span class=n>_depth</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>left_depth</span> <span class=o>&gt;</span> <span class=n>right_depth</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=n>left_depth</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=n>right_depth</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>_depth</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_leaves</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;é€’å½’è¾“å‡ºæ‰€æœ‰å¶å­èŠ‚ç‚¹&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>node</span><span class=o>.</span><span class=n>left_child</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>get_leaves</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>get_leaves</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right_child</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span> <span class=o>=</span> <span class=n>Tree</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=o>.</span><span class=n>left_child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=o>.</span><span class=n>right_child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;C&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=o>.</span><span class=n>left_child</span><span class=o>.</span><span class=n>left_child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=o>.</span><span class=n>left_child</span><span class=o>.</span><span class=n>right_child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;E&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=o>.</span><span class=n>left_child</span><span class=o>.</span><span class=n>right_child</span><span class=o>.</span><span class=n>right_child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;F&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=o>.</span><span class=n>left_child</span><span class=o>.</span><span class=n>left_child</span><span class=o>.</span><span class=n>right_child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s1>&#39;G&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                 A
</span></span></span><span class=line><span class=cl><span class=s2>                 |
</span></span></span><span class=line><span class=cl><span class=s2>           -------------
</span></span></span><span class=line><span class=cl><span class=s2>           |           |
</span></span></span><span class=line><span class=cl><span class=s2>           B           C
</span></span></span><span class=line><span class=cl><span class=s2>           |
</span></span></span><span class=line><span class=cl><span class=s2>     -------------
</span></span></span><span class=line><span class=cl><span class=s2>     |           |
</span></span></span><span class=line><span class=cl><span class=s2>     D           E
</span></span></span><span class=line><span class=cl><span class=s2>     |           |
</span></span></span><span class=line><span class=cl><span class=s2>  -------     -------
</span></span></span><span class=line><span class=cl><span class=s2>  |     |     |     |
</span></span></span><span class=line><span class=cl><span class=s2>(None)  G   (None)  F
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;#å…ˆåºéå†&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;é€’å½’ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>rec_pre_order</span><span class=p>(</span><span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>éé€’å½’1ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>pre_order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>éé€’å½’2ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>pre_order2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n\n</span><span class=s2>#ä¸­åºéå†&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;é€’å½’ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>rec_in_order</span><span class=p>(</span><span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>éé€’å½’1ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>in_order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>éé€’å½’2ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>in_order2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n\n</span><span class=s2>#ååºéå†&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;é€’å½’ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>rec_post_order</span><span class=p>(</span><span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>éé€’å½’ï¼š&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>post_order</span><span class=p>(</span><span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n\n</span><span class=s2>äºŒå‰æ ‘çš„æ·±åº¦ä¸ºï¼š&#34;</span><span class=p>,</span> <span class=n>tree</span><span class=o>.</span><span class=n>get_depth</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>å¶å­èŠ‚ç‚¹ï¼š&#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tree</span><span class=o>.</span><span class=n>get_leaves</span><span class=p>(</span><span class=n>tree</span><span class=o>.</span><span class=n>root</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=äºŒå‰æŸ¥æ‰¾æ ‘>äºŒå‰æŸ¥æ‰¾æ ‘<a hidden class=anchor aria-hidden=true href=#äºŒå‰æŸ¥æ‰¾æ ‘>#</a></h2><p><del>ï¼ˆå…ˆæŒ–ä¸ªå‘ï¼Œä»¥åå›æ¥æ›´æ–°ï¼‰</del></p><p><img alt=640 loading=lazy src=/img/640.jpg></p><h2 id=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®<a hidden class=anchor aria-hidden=true href=#å‚è€ƒæ–‡çŒ®>#</a></h2><ol><li><a href=https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91>ä¸­æ–‡ç»´åŸºç™¾ç§‘Â·äºŒå‰æ ‘</a></li><li>åˆ˜æ±ä½³ã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ï¼ˆç¬¬2ç‰ˆï¼‰</li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://allenwu233.github.io/zh/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>æ•°æ®ç»“æ„</a></li><li><a href=https://allenwu233.github.io/zh/tags/c++/>C++</a></li><li><a href=https://allenwu233.github.io/zh/tags/python/>Python</a></li><li><a href=https://allenwu233.github.io/zh/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/>äºŒå‰æ ‘</a></li><li><a href=https://allenwu233.github.io/zh/tags/%E7%AE%97%E6%B3%95/>ç®—æ³•</a></li></ul><nav class=paginav><a class=prev href=https://allenwu233.github.io/zh/posts/little-reimu/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>è®°å¿†ã€çˆ±ä¸æ•‘èµ</span>
</a><a class=next href=https://allenwu233.github.io/zh/posts/stack/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>æ•°æ®ç»“æ„åˆè§-æ ˆ</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=AllenWu233/AllenWu233.github.io data-repo-id=R_kgDOOUVoCw data-category=Announcements data-category-id=DIC_kwDOOUVoC84Co2ps data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=transparent_dark data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://allenwu233.github.io/zh/>é€é¥ä¹¡ | Allen's World</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>