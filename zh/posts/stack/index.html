<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>数据结构初见-栈 | 逍遥乡 | Allen's World</title>
<meta name=keywords content="数据结构,C++,Python"><meta name=description content="简单而又不简单"><meta name=author content="Allen Wu"><link rel=canonical href=https://blog.allenwu233.com/zh/posts/stack/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://blog.allenwu233.com/favicon/favicon/android-chrome-512x512.png><link rel=icon type=image/png sizes=16x16 href=https://blog.allenwu233.com/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.allenwu233.com/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.allenwu233.com/favicon/apple-touch-icon.png><link rel=mask-icon href=https://blog.allenwu233.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://blog.allenwu233.com/zh/posts/stack/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css integrity=sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js integrity=sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://blog.allenwu233.com/zh/posts/stack/"><meta property="og:site_name" content="逍遥乡 | Allen's World"><meta property="og:title" content="数据结构初见-栈"><meta property="og:description" content="简单而又不简单"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-30T14:00:00+08:00"><meta property="article:modified_time" content="2022-10-30T14:00:00+08:00"><meta property="article:tag" content="数据结构"><meta property="article:tag" content="C++"><meta property="article:tag" content="Python"><meta property="og:image" content="https://blog.allenwu233.com/img/stack_cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.allenwu233.com/img/stack_cover.png"><meta name=twitter:title content="数据结构初见-栈"><meta name=twitter:description content="简单而又不简单"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.allenwu233.com/zh/posts/"},{"@type":"ListItem","position":2,"name":"数据结构初见-栈","item":"https://blog.allenwu233.com/zh/posts/stack/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"数据结构初见-栈","name":"数据结构初见-栈","description":"简单而又不简单","keywords":["数据结构","C++","Python"],"articleBody":" 如果说算法是程序的灵魂，那么数据结构就如同程序的躯体。 学习数据结构，一定少不了基础而经典的——栈(stack) 那么，栈是什么？\n什么是栈 Stack 是东方Project同人音乐社团「暁records」主唱/作词/偶尔作曲/编曲，拥有的独特嗓音,虽然有些人不喜欢,但是从来不会被忽略,一入耳就能留下永远无法忘记的印象…… \u003e 咳咳……正经的：\nIn computer science, a stack is an abstract data type that serves as a collection of elements, with two main operations:\nPush, which adds an element to the collection, and Pop, which removes the most recently added element that was not yet removed. ——from WIKIPEDIA 简言之，栈（stack，又称为堆栈或堆叠）就是符合 “后进先出”(Last In First Out, LIFO) 规则的线性存储结构，有PUSH和POP两种操作\nPUSH: 压栈，把元素压入栈顶 POP: 弹出：从栈顶把元素弹出 由此我们知道，元素只能从栈顶入、从栈顶出，而不能从栈底进出 把栈比作一个直径为一颗糖果大小、封底无盖的糖果盒，要想存取糖果，只能从开口的一端来——每次操作都只与栈顶元素相关 代码实现 例题 用一道例题来说明栈的用途：铁轨(Rails, ACM/ICPC CERC 1997, UVa 514) 题目略有改动\nSummary \u003e There is a famous railway station in PopPush City. Country there is incredibly hilly. The station was built in last century. Unfortunately, funds were extremely limited that time. It was possible to establish only a surface track. Moreover, it turned out that the station could be only a dead-end one (see picture) and due to lack of available space it could have only one track.\nExplanation \u003e The problem requires reordering items on a stack, specifically to determine if the reordering can be done in a single pass.\nInput Sample\n5 1 2 3 4 5 5 5 4 1 2 3 6 6 5 4 3 2 1 Ouput Sample\nYes No Yes C++ C++ 的 STL 提供了包括栈在内等特殊的数据结构，可以很方便地调用。参考了刘汝佳老师的代码\nrails.cpp\n#include #include using namespace std; const int MAXN = 1000 + 10; int n, target[MAXN]; int main() { while (scanf(\"%d\", \u0026n) == 1) { stack\u003cint\u003e s; int A = 1, B = 1; for (int i = 1; i \u003c= n; i++) scanf(\"%d\", \u0026target[i]); int ok = 1; while (B \u003c= n) { if (A == target[B]) { A++; B++; } else if (!s.empty() \u0026\u0026 s.top() == target[B]) { s.pop(); B++; } else if (A \u003c= n) s.push(A++); else { ok = 0; break; } } printf(\"%s\\n\", ok ? \"Yes\" : \"No\"); } return 0; } Python Python再翻译 Python内置的数据结构相当强大，可以轻松模拟栈\nrails.py\nwhile 1: n = input() if n == \"\": break n = int(n) s = [] target = [0] + list(map(int, input().split())) A, B, ok = 1, 1, 1 while B \u003c= n: if A == target[B]: A += 1 B += 1 elif len(s) != 0 and s[-1] == target[B]: s.pop(-1) B += 1 elif A \u003c= n: A += 1 s.append(A) else: ok = 0 break if ok == 1: print(\"Yes\") else: print(\"No\") EX: Python类实现Stack 利用list这一好用的内置数据结构，我们可以用Python类来实现栈\nstack.py\nclass Stack(object): __slots__ = ('__items') # 限定Stack类的成员只有__items # 初始化栈为空列表 def __init__(self): self.__items = [] # 私有属性 # 判断栈是否为空，返回布尔值 def empty(self): return self.__items == [] # 返回栈顶元素 def top(self): return self.__items[-1] # 返回栈的大小 def size(self): return len(self.__items) # 把新的元素堆进栈里面（程序员喜欢把这个过程叫做压栈，入栈，进栈……） def push(self, item): self.__items.append(item) # 把栈顶元素丢出去（程序员喜欢把这个过程叫做出栈……） def pop(self): return self.__items.pop(-1) if __name__ == '__main__': # 初始化一个栈对象 my_stack = Stack() # 把'candy_01'丢进栈里 my_stack.push('candy_01') # 把'candy_02'丢进栈里 my_stack.push('candy_02') # 看一下栈的大小（有几个元素） print(my_stack.size()) # 打印栈顶元素 print(my_stack.top()) # 把栈顶元素丢出去，并打印出来 print(my_stack.pop()) # 再看一下栈顶元素是谁 print(my_stack.top()) # 这个时候栈的大小是多少？ print(my_stack.size()) # 再丢一个栈顶元素 print(my_stack.pop()) # 看一下栈的大小 print(my_stack.size()) # 栈是不是空了？ print(my_stack.empty()) # 哇~真好吃~ print('Yummy~') ","wordCount":"468","inLanguage":"zh","image":"https://blog.allenwu233.com/img/stack_cover.png","datePublished":"2022-10-30T14:00:00+08:00","dateModified":"2022-10-30T14:00:00+08:00","author":{"@type":"Person","name":"Allen Wu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.allenwu233.com/zh/posts/stack/"},"publisher":{"@type":"Organization","name":"逍遥乡 | Allen's World","logo":{"@type":"ImageObject","url":"https://blog.allenwu233.com/favicon/favicon/android-chrome-512x512.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.allenwu233.com/zh/ accesskey=h title="逍遥乡 (Alt + H)"><img src=https://blog.allenwu233.com/img/avatar.png alt aria-label=logo height=35>逍遥乡</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.allenwu233.com/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://blog.allenwu233.com/zh/about/ title=📋关于><span>📋关于</span></a></li><li><a href=https://blog.allenwu233.com/zh/links/ title=🔗友链><span>🔗友链</span></a></li><li><a href=https://blog.allenwu233.com/zh/categories/ title=📔类别><span>📔类别</span></a></li><li><a href=https://blog.allenwu233.com/zh/archives/ title=📦归档><span>📦归档</span></a></li><li><a href=https://blog.allenwu233.com/zh/tags/ title=🏷️标签><span>🏷️标签</span></a></li><li><a href=https://blog.allenwu233.com/zh/search/ title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.allenwu233.com/zh/>主页</a>&nbsp;»&nbsp;<a href=https://blog.allenwu233.com/zh/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">数据结构初见-栈</h1><div class=post-description>简单而又不简单</div><div class=post-meta><span title='2022-10-30 14:00:00 +0800 +0800'>2022/10/30</span>&nbsp;·&nbsp;Allen Wu</div></header><figure class=entry-cover><img loading=eager src=https://blog.allenwu233.com/img/stack_cover.png alt></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#什么是栈>什么是栈</a></li><li><a href=#代码实现>代码实现</a><ul><li><a href=#例题>例题</a></li><li><a href=#c>C++</a></li><li><a href=#python>Python</a></li></ul></li></ul></nav></div></details></div><div class=post-content><blockquote><p>如果说算法是程序的灵魂，那么数据结构就如同程序的躯体。
学习数据结构，一定少不了基础而经典的——<strong>栈(stack)</strong>
那么，栈是什么？</p></blockquote><h2 id=什么是栈>什么是栈<a hidden class=anchor aria-hidden=true href=#什么是栈>#</a></h2><blockquote><p><del>Stack 是东方Project同人音乐社团「暁records」主唱/作词/偶尔作曲/编曲，拥有的独特嗓音,虽然有些人不喜欢,但是从来不会被忽略,一入耳就能留下永远无法忘记的印象&mldr;&mldr;</del> > <img alt=Stack姐 loading=lazy src=singer_stack.jpg></p></blockquote><p>咳咳&mldr;&mldr;正经的：</p><blockquote><p>In computer science, a stack is an abstract data type that serves as a collection of elements, with two main operations:</p><ul><li>Push, which adds an element to the collection, and</li><li>Pop, which removes the most recently added element that was not yet removed.
&mdash;&mdash;from <a href=https://en.wikipedia.org/wiki/Stack_%28abstract_data_type%29>WIKIPEDIA</a></li></ul></blockquote><p>简言之，栈（stack，又称为<strong>堆栈</strong>或<strong>堆叠</strong>）就是符合 <strong>“后进先出”(Last In First Out, LIFO)</strong> 规则的线性存储结构，有<strong>PUSH</strong>和<strong>POP</strong>两种操作</p><ul><li>PUSH: 压栈，把元素压入栈顶</li><li>POP: 弹出：从栈顶把元素弹出
<img alt="Lifo stack" loading=lazy src=/img/Lifo_stack.jpg>
由此我们知道，元素只能从栈顶入、从栈顶出，而不能从栈底进出
把栈比作一个直径为一颗糖果大小、封底无盖的糖果盒，要想存取糖果，只能从开口的一端来——每次操作都只与栈顶元素相关</li></ul><h2 id=代码实现>代码实现<a hidden class=anchor aria-hidden=true href=#代码实现>#</a></h2><h3 id=例题>例题<a hidden class=anchor aria-hidden=true href=#例题>#</a></h3><p>用一道例题来说明栈的用途：<a href=https://vjudge.net/problem/UVA-514>铁轨(Rails, ACM/ICPC CERC 1997, UVa 514)</a>
题目略有改动</p><blockquote><p><strong>Summary</strong> > There is a famous railway station in PopPush City. Country there is incredibly hilly. The station was built in last century. Unfortunately, funds were extremely limited that time. It was possible to establish only a surface track. Moreover, it turned out that the station could be only a dead-end one (see picture) and due to lack of available space it could have only one track.</p></blockquote><blockquote><p><strong>Explanation</strong> > The problem requires reordering items on a stack, specifically to determine if the reordering can be done in a single pass.</p></blockquote><blockquote><p><strong>Input Sample</strong></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>5
</span></span><span class=line><span class=cl>1 2 3 4 5
</span></span><span class=line><span class=cl>5
</span></span><span class=line><span class=cl>5 4 1 2 3
</span></span><span class=line><span class=cl>6
</span></span><span class=line><span class=cl>6 5 4 3 2 1
</span></span></code></pre></div><blockquote><p><strong>Ouput Sample</strong></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Yes
</span></span><span class=line><span class=cl>No
</span></span><span class=line><span class=cl>Yes
</span></span></code></pre></div><h3 id=c>C++<a hidden class=anchor aria-hidden=true href=#c>#</a></h3><p>C++ 的 STL 提供了包括栈在内等特殊的数据结构，可以很方便地调用。参考了刘汝佳老师的代码</p><blockquote><p>rails.cpp</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;cstdio&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stack&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>MAXN</span> <span class=o>=</span> <span class=mi>1000</span> <span class=o>+</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>target</span><span class=p>[</span><span class=n>MAXN</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>n</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>A</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>B</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>target</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ok</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=p>(</span><span class=n>B</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>A</span> <span class=o>==</span> <span class=n>target</span><span class=p>[</span><span class=n>B</span><span class=p>])</span> <span class=p>{</span> <span class=n>A</span><span class=o>++</span><span class=p>;</span> <span class=n>B</span><span class=o>++</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>==</span> <span class=n>target</span><span class=p>[</span><span class=n>B</span><span class=p>])</span> <span class=p>{</span> <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span> <span class=n>B</span><span class=o>++</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>A</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>)</span> <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>A</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=p>{</span> <span class=n>ok</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=k>break</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>ok</span> <span class=o>?</span> <span class=s>&#34;Yes&#34;</span> <span class=o>:</span> <span class=s>&#34;No&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h3><h4 id=python再翻译>Python再翻译<a hidden class=anchor aria-hidden=true href=#python再翻译>#</a></h4><p>Python内置的数据结构相当强大，可以轻松模拟栈</p><blockquote><p>rails.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>while</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=s2>&#34;&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=n>target</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>,</span> <span class=n>B</span><span class=p>,</span> <span class=n>ok</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>B</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>A</span> <span class=o>==</span> <span class=n>target</span><span class=p>[</span><span class=n>B</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>A</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>B</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>s</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>[</span><span class=n>B</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>s</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>B</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>A</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>A</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>s</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>A</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ok</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>ok</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Yes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h4 id=ex-python类实现stack>EX: Python类实现Stack<a hidden class=anchor aria-hidden=true href=#ex-python类实现stack>#</a></h4><p>利用<code>list</code>这一好用的内置数据结构，我们可以用Python类来实现栈</p><blockquote><p>stack.py</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Stack</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;__items&#39;</span><span class=p>)</span>  <span class=c1># 限定Stack类的成员只有__items</span>
</span></span><span class=line><span class=cl>    <span class=c1># 初始化栈为空列表</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>__items</span> <span class=o>=</span> <span class=p>[]</span>  <span class=c1># 私有属性</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 判断栈是否为空，返回布尔值</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>empty</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>__items</span> <span class=o>==</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 返回栈顶元素</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>top</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>__items</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 返回栈的大小</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>size</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 把新的元素堆进栈里面（程序员喜欢把这个过程叫做压栈，入栈，进栈……）</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>push</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>__items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 把栈顶元素丢出去（程序员喜欢把这个过程叫做出栈……）</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>__items</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 初始化一个栈对象</span>
</span></span><span class=line><span class=cl>    <span class=n>my_stack</span> <span class=o>=</span> <span class=n>Stack</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 把&#39;candy_01&#39;丢进栈里</span>
</span></span><span class=line><span class=cl>    <span class=n>my_stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=s1>&#39;candy_01&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 把&#39;candy_02&#39;丢进栈里</span>
</span></span><span class=line><span class=cl>    <span class=n>my_stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=s1>&#39;candy_02&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 看一下栈的大小（有几个元素）</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>size</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 打印栈顶元素</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>top</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 把栈顶元素丢出去，并打印出来</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 再看一下栈顶元素是谁</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>top</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 这个时候栈的大小是多少？</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>size</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 再丢一个栈顶元素</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 看一下栈的大小</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>size</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 栈是不是空了？</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>my_stack</span><span class=o>.</span><span class=n>empty</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 哇~真好吃~</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Yummy~&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p><img alt=yummy loading=lazy src=/img76889557_p0_master1200.jpg></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.allenwu233.com/zh/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构</a></li><li><a href=https://blog.allenwu233.com/zh/tags/c++/>C++</a></li><li><a href=https://blog.allenwu233.com/zh/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://blog.allenwu233.com/zh/posts/binary-tree/><span class=title>« 上一页</span><br><span>数据结构之美-二叉树</span>
</a><a class=next href=https://blog.allenwu233.com/zh/posts/greedy-algorithm/><span class=title>下一页 »</span><br><span>最“简单”的算法——贪心算法</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=AllenWu233/AllenWu233.github.io data-repo-id=R_kgDOOUVoCw data-category=Announcements data-category-id=DIC_kwDOOUVoC84Co2ps data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=transparent_dark data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2022 - 2025 <a href=https://blog.allenwu233.com/zh/>逍遥乡 | Allen's World</a></span>
<a href="https://icp.gov.moe/?keyword=20250495" target=_blank>萌ICP备20250495号</a> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>